<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../../css/wolai.css"/><title>JVM - wolai 笔记</title><link rel="shortcut icon" href="media/16469205437401646920543543_1.png"></link></head><body><header><div class="image"></div><div class="title"><div class="banner"><div class="icon icon-image" style="background-image: url(&quot;media/16469205437401646920543543.png&quot;)"></div></div><div data-title="JVM" class="main-title"></div></div></header><article><div class="wolai-block wolai-text"><div><span class="inline-wrap">学习视频：</span><span class="inline-wrap"><a href="https://www.bilibili.com/video/BV1PJ411n7xZ?p=16&amp;spm_id_from=333.880.my_history.page.click"><span>https://www.bilibili.com/video/BV1PJ411n7xZ?p=16&amp;spm_id_from=333.880.my_history.page.click</span></a></span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">JVM<span class="jill"></span>译为<span class="jill"></span>Java<span class="jill"></span>虚拟机。</span></div></div><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">作用
Java<span class="jill"></span>虚拟机就是二进制字节码的运行环境，负责装载字节码到其内部，解释/
编译为对应平台上的机器指令执行。每一条<span class="jill"></span>Java<span class="jill"></span>指令，Java<span class="jill"></span>虚拟机规范中都
有详细定义，如怎么取操作数，怎么处理操作数，处理结果放在哪里。</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">特点
一次编译，到处运行
自动内存管理
自动垃圾回收功能</span></li></ul><div class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div><div class="wolai-block wolai-center"><figure style="width: 100%"><img src="https://fastly.jsdelivr.net/gh/18476305640/typora@master/image/16539571974841653957197317.png" style="width: 678.6666666666666px"/></figure></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">javac.exe<span class="jill"></span>文件负责将<span class="jill"></span>java<span class="jill"></span>的源代码编译为字节码文件，javac<span class="jill"></span>是前端编译器，字节码是跨语言的。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">JVM<span class="jill"></span>的架构模型，指令</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">Java<span class="jill"></span>的重大事件</span></summary><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">1990<span class="jill"></span>年，在<span class="jill"></span>Sun<span class="jill"></span>计算机公司中，由<span class="jill"></span>Patrick Naughton、MikeSheridan<span class="jill"></span>及<span class="jill"></span>James Gosling<span class="jill"></span>领导的小组<span class="jill"></span>Green Team，开发出的新的程序语言，命名为<span class="jill"></span>Oak，后期命名为<span class="jill"></span>Java</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">1995<span class="jill"></span>年，Sun<span class="jill"></span>正式发布<span class="jill"></span>Java<span class="jill"></span>和<span class="jill"></span>HotJava<span class="jill"></span>产品，Java<span class="jill"></span>首次公开亮相。</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">1996<span class="jill"></span>年<span class="jill"></span>1<span class="jill"></span>月<span class="jill"></span>23<span class="jill"></span>日<span class="jill"></span>Sun Microsystems<span class="jill"></span>发布了<span class="jill"></span>JDK 1.0。</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">1998<span class="jill"></span>年，JDK1.2<span class="jill"></span>版本发布。同时，Sun<span class="jill"></span>发布了<span class="jill"></span>JSP/Servlet、EJB<span class="jill"></span>规范，以及将<span class="jill"></span>Java<span class="jill"></span>分成了<span class="jill"></span>J2EE、J2SE<span class="jill"></span>和<span class="jill"></span>J2ME。这表明了<span class="jill"></span>Java<span class="jill"></span>开始向企业、桌面应用和移动设备应用<span class="jill"></span>3<span class="jill"></span>大领域挺进。</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">2000<span class="jill"></span>年，JDK1.3<span class="jill"></span>发布，Java HotSpot Virtual Machine<span class="jill"></span>正式发布，成为<span class="jill"></span>Java<span class="jill"></span>的默认虚拟机。</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">2002<span class="jill"></span>年，JDK1.4<span class="jill"></span>发布，古老的<span class="jill"></span>Classic<span class="jill"></span>虚拟机退出历史舞台。</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">2003<span class="jill"></span>年年底，Java<span class="jill"></span>平台的<span class="jill"></span>scala<span class="jill"></span>正式发布，同年<span class="jill"></span>Groovy<span class="jill"></span>也加入了<span class="jill"></span>Java<span class="jill"></span>阵营。</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">2004<span class="jill"></span>年，JDK1.5<span class="jill"></span>发布。同时<span class="jill"></span>JDK1.5<span class="jill"></span>改名为<span class="jill"></span>JavaSE5.0。</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">2006<span class="jill"></span>年，JDK6<span class="jill"></span>发布。同年，Java<span class="jill"></span>开源并建立了<span class="jill"></span>OpenJDK。顺理成章，Hotspot<span class="jill"></span>虚拟机也成为了<span class="jill"></span>OpenJDK<span class="jill"></span>中的默认虚拟机。</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">2007<span class="jill"></span>年，Java<span class="jill"></span>平台迎来了新伙伴<span class="jill"></span>Clojure。</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">2008<span class="jill"></span>年，oracle<span class="jill"></span>收购了<span class="jill"></span>BEA，得到了<span class="jill"></span>JRockit<span class="jill"></span>虚拟机。</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">2009<span class="jill"></span>年，Twitter<span class="jill"></span>宣布把后台大部分程序从<span class="jill"></span>Ruby<span class="jill"></span>迁移到<span class="jill"></span>Scala，这是<span class="jill"></span>Java<span class="jill"></span>平台的又一次大规模应用。</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">2010<span class="jill"></span>年，Oracle<span class="jill"></span>收购了<span class="jill"></span>Sun，获得<span class="jill"></span>Java<span class="jill"></span>商标和最真价值的<span class="jill"></span>HotSpot<span class="jill"></span>虚拟机。此时，Oracle<span class="jill"></span>拥有市场占用率最高的两款虚拟机<span class="jill"></span>HotSpot<span class="jill"></span>和<span class="jill"></span>JRockit，并计划在未来对它们进行整合：HotRockit</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">2011<span class="jill"></span>年，JDK7<span class="jill"></span>发布。在<span class="jill"></span>JDK1.7u4<span class="jill"></span>中，正式启用了新的垃圾回收器<span class="jill"></span>G1。</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">2017<span class="jill"></span>年，JDK9<span class="jill"></span>发布。将<span class="jill"></span>G1<span class="jill"></span>设置为默认<span class="jill"></span>GC，替代<span class="jill"></span>CMS</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">同年，IBM<span class="jill"></span>的<span class="jill"></span>J9<span class="jill"></span>开源，形成了现在的<span class="jill"></span>Open J9<span class="jill"></span>社区</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">2018<span class="jill"></span>年，Android<span class="jill"></span>的<span class="jill"></span>Java<span class="jill"></span>侵权案判决，Google<span class="jill"></span>赔偿<span class="jill"></span>Oracle<span class="jill"></span>计<span class="jill"></span>88<span class="jill"></span>亿美元</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">同年，Oracle<span class="jill"></span>宣告<span class="jill"></span>JavagE<span class="jill"></span>成为历史名词<span class="jill"></span>JDBC、JMS、Servlet<span class="jill"></span>赠予<span class="jill"></span>Eclipse<span class="jill"></span>基金会</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">同年，JDK11<span class="jill"></span>发布，LTS<span class="jill"></span>版本的<span class="jill"></span>JDK，发布革命性的<span class="jill"></span>ZGC，调整<span class="jill"></span>JDK<span class="jill"></span>授权许可</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">2019<span class="jill"></span>年，JDK12<span class="jill"></span>发布，加入<span class="jill"></span>RedHat<span class="jill"></span>领导开发的<span class="jill"></span>Shenandoah GC</span></li></ul></details><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">jvm<span class="jill"></span>的整体结构</span></summary><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><code>HotSpot VM</code></span><span class="inline-wrap">是目前市面上高性能虚拟机的代表作之一。</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">它采用解释器与即时编译器并存的架构。</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">在今天，Java<span class="jill"></span>程序的运行性能早已脱胎换骨，已经达到了可以和<span class="jill"></span>C/C++<span class="jill"></span>程序一较高下的地步。</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">执行引擎包含三部分：</span><span class="inline-wrap"><code>解释器</code></span><span class="inline-wrap">，</span><span class="inline-wrap"><code>即时编译器</code></span><span class="inline-wrap">，</span><span class="inline-wrap"><code>垃圾回收器</code></span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"></span><br/></li></ul><div class="wolai-block wolai-center"><figure style="width: 100%"><img src="https://fastly.jsdelivr.net/gh/18476305640/typora@master/image/16539575142841653957514226.png" style="width: 412.6666666666667px"/></figure></div><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">java<span class="jill"></span>的指令架构：</span></summary><div class="wolai-block wolai-text"><div><span class="inline-wrap">Java<span class="jill"></span>编译器输入的指令流基本上是一种</span><span class="inline-wrap"><code>基于栈的指令集架构</code></span><span class="inline-wrap">，指令多，但指令集更小，可移植性更好，更好实现跨平台。另外一种指令集架构则是</span><span class="inline-wrap"><code>基于寄存器的指令集架构。</code></span></div></div><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">基于栈式架构的特点</span><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">设计和实现更简单，适用于资源受限的系统</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">避开了寄存器的分配难题：使用零地址指令方式分配</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">指令流中的指令大部分是零地址指令，其执行过程依赖于</span><span class="inline-wrap"><code>操作栈</code></span><span class="inline-wrap">。</span><span class="inline-wrap"><code>指令集更小，编译器容易实现</code></span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">不需要硬件支持，可移植性更好，更好</span><span class="inline-wrap"><code>实现跨平台</code></span></li></ul></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">基于寄存器架构的特点</span><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">典型的应用是<span class="jill"></span>x86<span class="jill"></span>的二进制指令集：比如传统的<span class="jill"></span>PC<span class="jill"></span>以及<span class="jill"></span>Android<span class="jill"></span>的<span class="jill"></span>Davlik<span class="jill"></span>虚拟机。</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">指令集架构则</span><span class="inline-wrap"><code>完全依赖硬件</code></span><span class="inline-wrap">，与硬件的耦合度高，</span><span class="inline-wrap"><code>可移植性差</code></span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><code>性能优秀和执行更高效</code></span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">花费更少的指令去完成一项操作</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">在大部分情况下，</span><span class="inline-wrap"><code>基于寄存器架构的指令集往往都以一地址指令、二地址指令和三地址指令为主</code></span><span class="inline-wrap">，而基于栈式架构的指令集却是以零地址指令为主</span></li></ul><div class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div></li></ul></details></details><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">jvm<span class="jill"></span>生命周期</span></summary><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">虚拟机的启动</span><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">Java<span class="jill"></span>虚拟机的启动是通过</span><span class="inline-wrap"><code>引导类加载器</code></span><span class="inline-wrap">（bootstrap class loader）创建一个初始类（initial class）来完成的，这个类是由虚拟机的具体实现指定的。</span></li></ul></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">虚拟机的执行</span><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">一个运行中的<span class="jill"></span>Java<span class="jill"></span>虚拟机有着一个清晰的任务：执行<span class="jill"></span>Java<span class="jill"></span>程序</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">程序开始执行时他才运行，程序结束时他就停止</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><code>执行一个所谓的<span class="jill"></span>Java<span class="jill"></span>程序的时候，真真正正在执行的是一个叫做<span class="jill"></span>Java<span class="jill"></span>虚拟机的进程</code></span></li></ul></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">虚拟机的退出</span><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">程序正常执行结束</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">程序在执行过程中遇到了异常或错误而异常终止</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">由于操作系统用现错误而导致<span class="jill"></span>Java<span class="jill"></span>虚拟机进程终止</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">某线程调用<span class="jill"></span>Runtime<span class="jill"></span>类或</span><span class="inline-wrap"><code>System<span class="jill"></span>类的<span class="jill"></span>exit( )</code></span><span class="inline-wrap">方法，或</span><span class="inline-wrap"><code>Runtime<span class="jill"></span>类的<span class="jill"></span>halt( )</code></span><span class="inline-wrap">方法，并且<span class="jill"></span>Java<span class="jill"></span>安全管理器也允许这次<span class="jill"></span>exit( )或<span class="jill"></span>halt( )操作。</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">除此之外，JNI（Java Native Interface）规范描述了用<span class="jill"></span>JNI Invocation API<span class="jill"></span>来加载或卸载 Java<span class="jill"></span>虚拟机时，Java<span class="jill"></span>虚拟机的退出情况。</span></li></ul></li></ul></details><div class="wolai-block wolai-text"><div></div></div></article><footer></footer></body></html>
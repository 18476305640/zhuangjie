<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../../css/wolai.css"/><title>Vue的干货 - wolai 笔记</title><link rel="shortcut icon" href="media/logo_1.svg"></link></head><body><header><div class="image"></div><div class="title"><div class="banner"><div class="icon icon-image" style="background-image: url(&quot;media/logo.svg&quot;)"></div></div><div data-title="Vue的干货" class="main-title"></div></div></header><article><h3 class="wolai-block"><span class="inline-wrap">1.1.路由的出门与进门</span></h3><div class="wolai-block wolai-center"><figure style="width: 100%"><img src="https://cdn.jsdelivr.net/gh/18476305640/typora@master/img/image-20210312144446686.png"/></figure></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">在路由中，</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre><span class="token function">activated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"在家"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">deactivated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"出门"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span></pre></div></code-block><h3 class="wolai-block"><span class="inline-wrap">1.2.数据对象封装思想</span></h3><div class="wolai-block wolai-center"><figure style="width: 100%"><img src="https://cdn.jsdelivr.net/gh/18476305640/typora@master/img/20210114151722161.png" style="width: 428px"/></figure></div><h3 class="wolai-block"><span class="inline-wrap">1.3.生命周期的方法</span></h3><div class="wolai-block wolai-text"><div><span class="inline-wrap">created 方法，常用于请求网络数据。</span></div></div><h3 class="wolai-block"><span class="inline-wrap"><b>1.4.过滤器<span class="jill"></span>filters<span class="jill"></span>的使用</b></span></h3><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token comment">//结构  | 将前面的作为后面的参数传入</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span>shop<span class="token punctuation">.</span><span class="token property-access">sells</span> <span class="token operator">|</span> sellCountFilter<span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token comment">//scripter>filters</span>
filters<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">sellCountFilter</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>value <span class="token operator">&lt;</span> <span class="token number">10000</span><span class="token punctuation">)</span> <span class="token keyword control-flow">return</span> value<span class="token punctuation">;</span>
      <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>value <span class="token operator">/</span> <span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toFixed</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'万'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre></div></code-block><h3 class="wolai-block"><span class="inline-wrap">1.5.常用结构的说明</span></h3><div class="wolai-block wolai-center"><figure style="width: 100%"><img src="https://cdn.jsdelivr.net/gh/18476305640/typora@master/image/2022/03/13/20220313103845749.png"/></figure></div><div class="wolai-block wolai-center"><figure style="width: 100%"><img src="https://cdn.jsdelivr.net/gh/18476305640/typora@master/image/2022/03/13/20220313103846954.png" style="width: 1002.6666666666666px"/></figure></div><h1 class="wolai-block"><span class="inline-wrap">二、VueCli3</span></h1><h3 class="wolai-block"><span class="inline-wrap">一）、开始</span></h3><ol class="wolai-block"><li><div class="marker"></div><span class="inline-wrap">在有<span class="jill"></span>nodeJs<span class="jill"></span>下，如果我们只想使用<span class="jill"></span>VueCli3，我们只需用<span class="jill"></span>npm install -g @vue/cli<span class="jill"></span>命令即可，如果我们还想使用<span class="jill"></span>VueCli2（包含<span class="jill"></span>VueCli3）,要用<span class="jill"></span>npm install -g @vue/cli-init</span></li><li><div class="marker"></div><span class="inline-wrap">创建项目</span><span class="inline-wrap">
</span><span class="inline-wrap">创建<span class="jill"></span>cli2：vue init webpack 项目名</span><span class="inline-wrap">
</span><span class="inline-wrap">创建<span class="jill"></span>cli3:   vue create 项目名：</span><span class="inline-wrap">
</span><span class="inline-wrap">
</span><span class="inline-wrap">(预设项目设置保存在)</span><span class="inline-wrap">
</span><span class="inline-wrap">
</span></li><li><div class="marker"></div><span class="inline-wrap">基本结构：</span><span class="inline-wrap">
</span><span class="inline-wrap">VueCli3<span class="jill"></span>基本目录</span><span class="inline-wrap">
</span><span class="inline-wrap">
</span><span class="inline-wrap">（vue ui 界面管理配置）</span><span class="inline-wrap">
</span><span class="inline-wrap">
</span><span class="inline-wrap">（自定义配置）</span><span class="inline-wrap">
</span><span class="inline-wrap">在当前项目下创建<span class="jill"></span>vue.config.js<span class="jill"></span>文件。将想要添加的配置写到这里面，它会将你添加的配置和原来的配置进行一个合并</span><span class="inline-wrap">
</span><span class="inline-wrap">
</span><span class="inline-wrap">（项目创建时，我们创建的目录介绍）</span><span class="inline-wrap">
</span></li></ol><h3 class="wolai-block"><span class="inline-wrap">二）、TabBar 的开发及使用</span></h3><ol class="wolai-block"><li><div class="marker"></div><span class="inline-wrap">安装<span class="jill"></span>vue-router 使用命令：npm install vue-router --save</span></li><li><div class="marker"></div><span class="inline-wrap">配置<span class="jill"></span>router: 在<span class="jill"></span>src<span class="jill"></span>下创建<span class="jill"></span>router<span class="jill"></span>目录，在该目录下创建一个<span class="jill"></span>index.js</span><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token comment">//1、引入</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">Vue</span></span> <span class="token keyword module">from</span> <span class="token string">'vue'</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">VueRouter</span></span> <span class="token keyword module">from</span> <span class="token string">"vue-router"</span><span class="token punctuation">;</span>


<span class="token comment">//2、安装插件</span>
<span class="token maybe-class-name">Vue</span><span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span><span class="token maybe-class-name">VueRouter</span><span class="token punctuation">)</span>
<span class="token comment">//3、注册路由</span>
<span class="token keyword">const</span> routes <span class="token operator">=</span><span class="token punctuation">[</span>

<span class="token punctuation">]</span>
<span class="token comment">//2、创建router</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token punctuation">,</span>
  mode<span class="token operator">:</span> <span class="token string">'history'</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> router</pre></div></code-block></li><li><div class="marker"></div><span class="inline-wrap">挂载路由：在<span class="jill"></span>main.js<span class="jill"></span>下 ：</span><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token comment">/*二、挂载路由*/</span>

<span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">Vue</span></span> <span class="token keyword module">from</span> <span class="token string">'vue'</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">App</span></span> <span class="token keyword module">from</span> <span class="token string">'./App.vue'</span>
<span class="token keyword module">import</span> <span class="token imports">router</span> <span class="token keyword module">from</span> <span class="token string">"./router"</span><span class="token punctuation">;</span> <span class="token comment">/*1、导入路由*/</span>
<span class="token maybe-class-name">Vue</span><span class="token punctuation">.</span><span class="token property-access">config</span><span class="token punctuation">.</span><span class="token property-access">productionTip</span> <span class="token operator">=</span> <span class="token boolean">false</span>

<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token arrow operator">=></span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token maybe-class-name">App</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  router  <span class="token comment">/*2、挂载路由*/</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</pre></div></code-block></li><li><div class="marker"></div><span class="inline-wrap">开发<span class="jill"></span>TabBar<span class="jill"></span>组件 Components&gt;common&gt;tabbar&gt;TabBar.vue：</span><span class="inline-wrap">
</span><span class="inline-wrap">思想：TabBar<span class="jill"></span>组件实际上就是一个存放<span class="jill"></span>TabBarItem.vue<span class="jill"></span>组件的容器。</span><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token operator">&lt;</span>template<span class="token operator">></span>
  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"tab-bar"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>slot<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span>
<span class="token operator">&lt;</span>script<span class="token operator">></span>

  <span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">"TabBar"</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
<span class="token operator">&lt;</span>style<span class="token operator">></span>
  #tab<span class="token operator">-</span>bar <span class="token punctuation">{</span>
    display<span class="token operator">:</span> flex<span class="token punctuation">;</span>
    background<span class="token operator">:</span> #f6f6f6<span class="token punctuation">;</span>
    position<span class="token operator">:</span> fixed<span class="token punctuation">;</span>
    left<span class="token operator">:</span> <span class="token number">0</span>px<span class="token punctuation">;</span>
    bottom<span class="token operator">:</span> <span class="token number">0</span>px<span class="token punctuation">;</span>
    right<span class="token operator">:</span> <span class="token number">0</span>px<span class="token punctuation">;</span>
    box<span class="token operator">-</span>shadow<span class="token operator">:</span> <span class="token number">0</span>px <span class="token operator">-</span><span class="token number">1</span>px <span class="token number">1</span>px <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span>
</pre></div></code-block></li><li><div class="marker"></div><span class="inline-wrap">开发<span class="jill"></span>TabBar<span class="jill"></span>组件 Components&gt;common&gt;tabbar&gt;TabBarItem.vue：</span><span class="inline-wrap">
</span><span class="inline-wrap">思想：TabBarItem 组件,它们可以看作是一个按钮，当点击时，会切换为指定（自身）路由，同时我们还可以通过 this.$route.path.indexOf(this.path) != -1 来判断自身现在是否处于活跃，来决定显示哪个图标与文字样式。</span><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token operator">&lt;</span>template<span class="token operator">></span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"tab-bar-item"</span> @click<span class="token operator">=</span><span class="token string">"itemClick()"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword control-flow">if</span><span class="token operator">=</span><span class="token string">"! isActive"</span><span class="token operator">></span><span class="token operator">&lt;</span>slot name<span class="token operator">=</span><span class="token string">"item-icon"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword control-flow">else</span><span class="token operator">=</span><span class="token string">"isActive"</span><span class="token operator">></span><span class="token operator">&lt;</span>slot name<span class="token operator">=</span><span class="token string">"item-icon-active"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>div <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">"activeStyle"</span><span class="token operator">></span><span class="token operator">&lt;</span>slot name<span class="token operator">=</span><span class="token string">"item-text"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span>
<span class="token operator">&lt;</span>script<span class="token operator">></span>
  <span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">"TabBarItem"</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword control-flow">return</span><span class="token punctuation">{</span>

      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    props<span class="token operator">:</span> <span class="token punctuation">{</span>
      path<span class="token operator">:</span><span class="token known-class-name class-name">String</span><span class="token punctuation">,</span> <span class="token comment">//自身path</span>
      activeColor<span class="token operator">:</span> <span class="token punctuation">{</span>  <span class="token comment">//图标显示的颜色</span>
        type<span class="token operator">:</span><span class="token known-class-name class-name">String</span><span class="token punctuation">,</span>
        <span class="token keyword module">default</span><span class="token operator">:</span> <span class="token string">'red'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    computed<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token comment">//计算属性</span>
      <span class="token function">isActive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//图标的显示是根据全局Path与自身path是否存在包含关系来决定的</span>
        <span class="token keyword control-flow">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">$route</span><span class="token punctuation">.</span><span class="token property-access">path</span><span class="token punctuation">.</span><span class="token method function property-access">indexOf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">path</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">activeStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//如果显示的是当前，isActive =true时 给文字加入样式</span>
        <span class="token keyword control-flow">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">isActive</span><span class="token operator">?</span><span class="token punctuation">{</span>color<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">activeColor</span><span class="token punctuation">}</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">itemClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//当点击TabBarItem时，改变路由</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">$router</span><span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">path</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
<span class="token operator">&lt;</span>style<span class="token operator">></span>
  <span class="token punctuation">.</span><span class="token property-access">tab</span><span class="token operator">-</span>bar<span class="token operator">-</span>item <span class="token punctuation">{</span>
    flex<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
    text<span class="token operator">-</span>align<span class="token operator">:</span> center<span class="token punctuation">;</span>
    height<span class="token operator">:</span> <span class="token number">49</span>px<span class="token punctuation">;</span>
    font<span class="token operator">-</span>size<span class="token operator">:</span> <span class="token number">14</span>px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">.</span><span class="token property-access">tab</span><span class="token operator">-</span>bar<span class="token operator">-</span>item img <span class="token punctuation">{</span>
    width<span class="token operator">:</span> <span class="token number">24</span>px<span class="token punctuation">;</span>
    height<span class="token operator">:</span> <span class="token number">24</span>px<span class="token punctuation">;</span>
    margin<span class="token operator">-</span>top<span class="token operator">:</span> <span class="token number">3</span>px<span class="token punctuation">;</span>
    vertical<span class="token operator">-</span>align<span class="token operator">:</span> middle<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span>
</pre></div></code-block></li><li><div class="marker"></div><span class="inline-wrap">使用组件（示例） src&gt;components&gt;content&gt;mainTabbar&gt;MainTabBar.vue:</span><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre>

<span class="token operator">&lt;</span>template<span class="token operator">></span>
  <span class="token operator">&lt;</span>tab<span class="token operator">-</span>bar<span class="token operator">></span>
    <span class="token operator">&lt;</span>tab<span class="token operator">-</span>bar<span class="token operator">-</span>item path<span class="token operator">=</span><span class="token string">"/home"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>img slot<span class="token operator">=</span><span class="token string">"item-icon"</span> src<span class="token operator">=</span><span class="token string">"~assets/img/tabbar/home.svg"</span> alt<span class="token operator">=</span><span class="token string">""</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>img slot<span class="token operator">=</span><span class="token string">"item-icon-active"</span> src<span class="token operator">=</span><span class="token string">"~assets/img/tabbar/home_active.svg"</span> alt<span class="token operator">=</span><span class="token string">""</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>div slot<span class="token operator">=</span><span class="token string">"item-text"</span><span class="token operator">></span>首页<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>tab<span class="token operator">-</span>bar<span class="token operator">-</span>item<span class="token operator">></span>
    <span class="token operator">&lt;</span>tab<span class="token operator">-</span>bar<span class="token operator">-</span>item path<span class="token operator">=</span><span class="token string">"/category"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>img slot<span class="token operator">=</span><span class="token string">"item-icon"</span> src<span class="token operator">=</span><span class="token string">"~assets/img/tabbar/category.svg"</span> alt<span class="token operator">=</span><span class="token string">""</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>img slot<span class="token operator">=</span><span class="token string">"item-icon-active"</span> src<span class="token operator">=</span><span class="token string">"~assets/img/tabbar/category_active.svg"</span> alt<span class="token operator">=</span><span class="token string">""</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>div slot<span class="token operator">=</span><span class="token string">"item-text"</span><span class="token operator">></span>分类<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>tab<span class="token operator">-</span>bar<span class="token operator">-</span>item<span class="token operator">></span>
    <span class="token operator">&lt;</span>tab<span class="token operator">-</span>bar<span class="token operator">-</span>item path<span class="token operator">=</span><span class="token string">"/cart"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>img slot<span class="token operator">=</span><span class="token string">"item-icon"</span> src<span class="token operator">=</span><span class="token string">"~assets/img/tabbar/shopcart.svg"</span> alt<span class="token operator">=</span><span class="token string">""</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>img slot<span class="token operator">=</span><span class="token string">"item-icon-active"</span> src<span class="token operator">=</span><span class="token string">"~assets/img/tabbar/shopcart_active.svg"</span> alt<span class="token operator">=</span><span class="token string">""</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>div slot<span class="token operator">=</span><span class="token string">"item-text"</span><span class="token operator">></span>购物车<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>tab<span class="token operator">-</span>bar<span class="token operator">-</span>item<span class="token operator">></span>
    <span class="token operator">&lt;</span>tab<span class="token operator">-</span>bar<span class="token operator">-</span>item path<span class="token operator">=</span><span class="token string">"/profile"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>img slot<span class="token operator">=</span><span class="token string">"item-icon"</span> src<span class="token operator">=</span><span class="token string">"~assets/img/tabbar/profile.svg"</span> alt<span class="token operator">=</span><span class="token string">""</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>img slot<span class="token operator">=</span><span class="token string">"item-icon-active"</span> src<span class="token operator">=</span><span class="token string">"~assets/img/tabbar/profile_active.svg"</span> alt<span class="token operator">=</span><span class="token string">""</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>div slot<span class="token operator">=</span><span class="token string">"item-text"</span><span class="token operator">></span>我的<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>tab<span class="token operator">-</span>bar<span class="token operator">-</span>item<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>tab<span class="token operator">-</span>bar<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span>

<span class="token operator">&lt;</span>script<span class="token operator">></span>
  <span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">TabBar</span></span> <span class="token keyword module">from</span> <span class="token string">'components/common/tabbar/TabBar'</span>
  <span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">TabBarItem</span></span> <span class="token keyword module">from</span> <span class="token string">'components/common/tabbar/TabBarItem'</span>

  <span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">"MainTabBar"</span><span class="token punctuation">,</span>
    components<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token maybe-class-name">TabBar</span><span class="token punctuation">,</span>
      <span class="token maybe-class-name">TabBarItem</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>

<span class="token operator">&lt;</span>style scoped<span class="token operator">></span>

<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span>
</pre></div></code-block></li><li><div class="marker"></div><span class="inline-wrap">配置路由 src&gt;router&gt;index.js</span><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token comment">//1、引入</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">Vue</span></span> <span class="token keyword module">from</span> <span class="token string">'vue'</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">VueRouter</span></span> <span class="token keyword module">from</span> <span class="token string">"vue-router"</span><span class="token punctuation">;</span>

<span class="token comment">//1、懒加载引入</span>
<span class="token keyword">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Home</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword module">import</span><span class="token punctuation">(</span><span class="token string">'views/home/Home'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Cart</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword module">import</span><span class="token punctuation">(</span><span class="token string">'views/cart/Cart'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Category</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword module">import</span><span class="token punctuation">(</span><span class="token string">'views/category/Category'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function"><span class="token maybe-class-name">Profile</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token keyword module">import</span><span class="token punctuation">(</span><span class="token string">'views/profile/Profile'</span><span class="token punctuation">)</span>


<span class="token comment">//2、安装插件</span>
<span class="token maybe-class-name">Vue</span><span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span><span class="token maybe-class-name">VueRouter</span><span class="token punctuation">)</span>
<span class="token comment">//3、注册路由</span>
<span class="token keyword">const</span> routes <span class="token operator">=</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    redirect<span class="token operator">:</span> <span class="token string">'/home'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/home'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> <span class="token maybe-class-name">Home</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/cart'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> <span class="token maybe-class-name">Cart</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/category'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> <span class="token maybe-class-name">Category</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/profile'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> <span class="token maybe-class-name">Profile</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
<span class="token comment">//2、创建router</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token punctuation">,</span>
  mode<span class="token operator">:</span> <span class="token string">'history'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> router</pre></div></code-block></li><li><div class="marker"></div><span class="inline-wrap">App.vue</span><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token operator">&lt;</span>template<span class="token operator">></span>
  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"app"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>router<span class="token operator">-</span>view <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>main<span class="token operator">-</span>tab<span class="token operator">-</span>bar <span class="token operator">/</span><span class="token operator">></span>

  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span>

<span class="token operator">&lt;</span>script<span class="token operator">></span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">MainTabBar</span></span> <span class="token keyword module">from</span> <span class="token string">'components/content/mainTabbar/MainTabBar'</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token maybe-class-name">MainTabBar</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>

<span class="token operator">&lt;</span>style<span class="token operator">></span>

<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span>
</pre></div></code-block></li></ol><h3 class="wolai-block"><span class="inline-wrap">三）、TabControl.vue<span class="jill"></span>组件的开发</span></h3><ol class="wolai-block"><li><div class="marker"></div><span class="inline-wrap">基本逻辑：组件通过<span class="jill"></span>props<span class="jill"></span>获取传入的<span class="jill"></span>Array，进行遍历显示且绑定点击事件，点击时会将对应的索引声明出来(在自身<span class="jill"></span>vue<span class="jill"></span>改变样式)，并向引用<span class="jill"></span>vue<span class="jill"></span>页面<span class="jill"></span>emit 声明这个索引(作对应的展示)</span></li><li><div class="marker"></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Javascript" class="marker"></div><pre><span class="token operator">&lt;</span>template<span class="token operator">></span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"tab-control"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token function">基本逻辑：点击时会将对应的索引声明出来</span><span class="token punctuation">(</span>在自身vue改变样式<span class="token punctuation">)</span>，并向引用vue页面emit <span class="token function">声明这个索引</span><span class="token punctuation">(</span>作对应的展示<span class="token punctuation">)</span>   <span class="token operator">--</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword control-flow">for</span><span class="token operator">=</span><span class="token string">"(item,index) in titles"</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"item"</span> @click<span class="token operator">=</span><span class="token string">"tabchang(index)"</span>
         <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"tab-control-item"</span> <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"{active: (index == currentIndex)}"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>span<span class="token operator">></span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span>
<span class="token operator">&lt;</span>script<span class="token operator">></span>
  <span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">"TabControl"</span><span class="token punctuation">,</span>
    props<span class="token operator">:</span> <span class="token punctuation">{</span>
      titles<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token known-class-name class-name">Array</span><span class="token punctuation">,</span>
        <span class="token keyword module">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword control-flow">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
        currentIndex<span class="token operator">:</span> <span class="token number">0</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">tabchang</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">currentIndex</span><span class="token operator">=</span>index
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">$emit</span><span class="token punctuation">(</span><span class="token string">"tabClick"</span><span class="token punctuation">,</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
<span class="token operator">&lt;</span>style scoped<span class="token operator">></span>
  <span class="token comment">/*父样式*/</span>
  <span class="token punctuation">.</span><span class="token property-access">tab</span><span class="token operator">-</span>control <span class="token punctuation">{</span>
    display<span class="token operator">:</span> flex<span class="token punctuation">;</span>
    text<span class="token operator">-</span>align<span class="token operator">:</span> center<span class="token punctuation">;</span>

    height<span class="token operator">:</span> <span class="token number">44</span>px<span class="token punctuation">;</span>
    line<span class="token operator">-</span>height<span class="token operator">:</span> <span class="token number">44</span>px<span class="token punctuation">;</span>
    font<span class="token operator">-</span>size<span class="token operator">:</span> <span class="token number">15</span>px<span class="token punctuation">;</span>
    background<span class="token operator">-</span>color<span class="token operator">:</span> #ffffff<span class="token punctuation">;</span>
    position<span class="token operator">:</span> sticky<span class="token punctuation">;</span>
    top<span class="token operator">:</span> <span class="token number">44</span>px<span class="token punctuation">;</span>

    z<span class="token operator">-</span>index<span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">/*子样式*/</span>
  <span class="token punctuation">.</span><span class="token property-access">tab</span><span class="token operator">-</span>control<span class="token operator">-</span>item <span class="token punctuation">{</span>
    flex<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">.</span><span class="token property-access">tab</span><span class="token operator">-</span>control<span class="token operator">-</span>item span <span class="token punctuation">{</span>
    padding<span class="token operator">:</span> <span class="token number">5</span>px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token punctuation">.</span><span class="token property-access">active</span> <span class="token punctuation">{</span>
    color<span class="token operator">:</span> <span class="token keyword">var</span><span class="token punctuation">(</span><span class="token operator">--</span>color<span class="token operator">-</span>high<span class="token operator">-</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">.</span><span class="token property-access">active</span> span <span class="token punctuation">{</span>
    border<span class="token operator">-</span>bottom<span class="token operator">:</span> <span class="token number">3</span>px solid <span class="token keyword">var</span><span class="token punctuation">(</span><span class="token operator">--</span>color<span class="token operator">-</span>high<span class="token operator">-</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token punctuation">}</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span>
</pre></div></code-block></li><li><div class="marker"></div><span class="inline-wrap">使用：</span><span class="inline-wrap">
</span><span class="inline-wrap">导入-添加到<span class="jill"></span>components-使用 =&gt;</span><span class="inline-wrap">
</span><span class="inline-wrap">信息输入：:titles=&quot;[&#39;流行&#39;,&#39;新款&#39;,&#39;精选&#39;]&quot;</span><span class="inline-wrap">
</span><span class="inline-wrap">信息输出：传播组件内部的点击事件（包含索引）</span><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre><span class="token operator">&lt;</span>tab<span class="token operator">-</span>control_zjazn <span class="token operator">:</span>titles<span class="token operator">=</span><span class="token string">"['流行','新款','精选']"</span> @clickIndex<span class="token operator">=</span><span class="token string">"clickIndex"</span><span class="token operator">/</span><span class="token operator">></span></pre></div></code-block></li><li><div class="marker"></div><span class="inline-wrap">功能<span class="jill"></span>1： CabControl<span class="jill"></span>的悬停</span><span class="inline-wrap">
</span><span class="inline-wrap">
</span><span class="inline-wrap">HomeSwiper<span class="jill"></span>组件将图片加载完成的事件改送出去：</span><span class="inline-wrap">
</span><span class="inline-wrap">
</span><span class="inline-wrap">Home.vue<span class="jill"></span>获取要悬停的组件<span class="jill"></span>offsetTop<span class="jill"></span>值进行赋值保存:</span><span class="inline-wrap">
</span><span class="inline-wrap">当滑动触发滚动事件时，进行对比，得到的<span class="jill"></span>boolean<span class="jill"></span>值使用在<span class="jill"></span>tabControl<span class="jill"></span>的<span class="jill"></span>v-show<span class="jill"></span>中</span><span class="inline-wrap">
</span><span class="inline-wrap">bug 提醒：因为悬停功能的实现要用到两个组件实例，他们内部的数据是不同的，也就是说，一方改变会触发到<span class="jill"></span>Home<span class="jill"></span>父组件中，但父组件并不知道是哪个组件发出的，我们就需要进行数据的同步了；</span><div class="wolai-block wolai-center"><figure style="width: 100%"><img src="https://cdn.jsdelivr.net/gh/18476305640/typora@master/image/2022/03/13/20220313103845322.png"/></figure></div><div class="wolai-block wolai-center"><figure style="width: 100%"><img src="https://cdn.jsdelivr.net/gh/18476305640/typora@master/img/image-20210312134718629.png"/></figure></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token function">swiperImageLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">//当图片加载完成后，触发获取要吸顶的元素距父元素的top值给tabOffsetTop</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">tabOffsetTop</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">$refs</span><span class="token punctuation">.</span><span class="token property-access">tabControl2</span><span class="token punctuation">.</span><span class="token property-access">$el</span><span class="token punctuation">.</span><span class="token property-access">offsetTop</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span></pre></div></code-block><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token function">scroll</span><span class="token punctuation">(</span><span class="token parameter">scrollPar</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">//已获取元素距父元素top的值，第次滑动进行比较，如果滑动的大小大于此值，则显示</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">isShowTabControl</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">-</span>scrollPar<span class="token punctuation">.</span><span class="token property-access">y</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">tabOffsetTop</span>
<span class="token punctuation">}</span></pre></div></code-block><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre><span class="token comment">//关联更新</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">$refs</span><span class="token punctuation">.</span><span class="token property-access">tabControl1</span><span class="token punctuation">.</span><span class="token property-access">currentIndex</span> <span class="token operator">=</span> index
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">$refs</span><span class="token punctuation">.</span><span class="token property-access">tabControl2</span><span class="token punctuation">.</span><span class="token property-access">currentIndex</span> <span class="token operator">=</span> index</pre></div></code-block></li></ol><h3 class="wolai-block"><span class="inline-wrap">四）、多列显示模板 GoodsList.vue +GoodsListItem.vue<span class="jill"></span>的开发</span></h3><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre><span class="token operator">!</span><span class="token punctuation">[</span>image<span class="token operator">-</span><span class="token number">20210309173945842</span><span class="token punctuation">]</span><span class="token punctuation">(</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>raw<span class="token punctuation">.</span><span class="token property-access">githubusercontent</span><span class="token punctuation">.</span><span class="token property-access">com</span><span class="token operator">/</span><span class="token number">18476305640</span><span class="token operator">/</span>typora<span class="token operator">/</span>master<span class="token operator">/</span>img<span class="token operator">/</span>image<span class="token operator">-</span><span class="token number">20210309173945842.</span>png<span class="token punctuation">)</span></pre></div></code-block><ol class="wolai-block"><li><div class="marker"></div><span class="inline-wrap">GoodsList.vue :</span><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token operator">&lt;</span>template<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 输入：某种类型的商品数组，如最新，流行。 <span class="token operator">--</span><span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 向内输出：在子组件上进行遍历、分发。让子组件来显示具体内容 <span class="token operator">--</span><span class="token operator">></span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"goods"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>goods<span class="token operator">-</span>list<span class="token operator">-</span>item v<span class="token operator">-</span><span class="token keyword control-flow">for</span><span class="token operator">=</span><span class="token string">"item in goods"</span> <span class="token operator">:</span>goodsItem<span class="token operator">=</span><span class="token string">"item"</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"item.showId"</span> <span class="token operator">/</span><span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span>

<span class="token operator">&lt;</span>script<span class="token operator">></span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">GoodsListItem</span></span> <span class="token keyword module">from</span> <span class="token string">"@/components/content/goods/GoodsListItem"</span><span class="token punctuation">;</span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">"GoodsList"</span><span class="token punctuation">,</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token maybe-class-name">GoodsListItem</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    goods<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span><span class="token known-class-name class-name">Array</span><span class="token punctuation">,</span>
      <span class="token keyword module">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword control-flow">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
<span class="token comment">/*重要排列样式*/</span> 
<span class="token operator">&lt;</span>style scoped<span class="token operator">></span>
  <span class="token punctuation">.</span><span class="token property-access">goods</span> <span class="token punctuation">{</span>
    display<span class="token operator">:</span> flex<span class="token punctuation">;</span>
    flex<span class="token operator">-</span>wrap<span class="token operator">:</span> wrap<span class="token punctuation">;</span>
    justify<span class="token operator">-</span>content<span class="token operator">:</span> space<span class="token operator">-</span>around<span class="token punctuation">;</span>

    padding<span class="token operator">:</span> <span class="token number">2</span>px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span>
</pre></div></code-block></li><li><div class="marker"></div><span class="inline-wrap">GoodsListItem.vue</span><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token operator">&lt;</span>template<span class="token operator">></span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"goods-item"</span><span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>  输入：分发到的对象，遍历显示  <span class="token operator">--</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>img <span class="token operator">:</span>src<span class="token operator">=</span><span class="token string">"goodsItem.show.img"</span> @load<span class="token operator">=</span><span class="token string">"imageLoad"</span> @click<span class="token operator">=</span><span class="token string">"toGoodPage(goodsItem)"</span><span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"goods-info"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>p<span class="token operator">></span><span class="token punctuation">{</span><span class="token punctuation">{</span>goodsItem<span class="token punctuation">.</span><span class="token property-access">title</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
      <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"price"</span><span class="token operator">></span><span class="token punctuation">{</span><span class="token punctuation">{</span>goodsItem<span class="token punctuation">.</span><span class="token property-access">price</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>
      <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"collect"</span><span class="token operator">></span><span class="token punctuation">{</span><span class="token punctuation">{</span>goodsItem<span class="token punctuation">.</span><span class="token property-access">cfav</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span>

<span class="token operator">&lt;</span>script<span class="token operator">></span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">"GoodsListItem"</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    goodsItem<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span><span class="token known-class-name class-name">Object</span><span class="token punctuation">,</span>
      <span class="token keyword module">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">imageLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">toGoodPage</span><span class="token punctuation">(</span><span class="token parameter">good</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token method function property-access">open</span><span class="token punctuation">(</span>good<span class="token punctuation">.</span><span class="token property-access">link</span><span class="token punctuation">,</span><span class="token string">"_self"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>

<span class="token operator">&lt;</span>style scoped<span class="token operator">></span>
  <span class="token punctuation">.</span><span class="token property-access">goods</span><span class="token operator">-</span>item <span class="token punctuation">{</span>
    padding<span class="token operator">-</span>bottom<span class="token operator">:</span> <span class="token number">40</span>px<span class="token punctuation">;</span>
    position<span class="token operator">:</span> relative<span class="token punctuation">;</span>

    width<span class="token operator">:</span> <span class="token number">48</span><span class="token operator">%</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token punctuation">.</span><span class="token property-access">goods</span><span class="token operator">-</span>item img <span class="token punctuation">{</span>
    width<span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
    border<span class="token operator">-</span>radius<span class="token operator">:</span> <span class="token number">5</span>px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token punctuation">.</span><span class="token property-access">goods</span><span class="token operator">-</span>info <span class="token punctuation">{</span>
    font<span class="token operator">-</span>size<span class="token operator">:</span> <span class="token number">12</span>px<span class="token punctuation">;</span>
    position<span class="token operator">:</span> absolute<span class="token punctuation">;</span>
    bottom<span class="token operator">:</span> <span class="token number">5</span>px<span class="token punctuation">;</span>
    left<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    right<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    overflow<span class="token operator">:</span> hidden<span class="token punctuation">;</span>
    text<span class="token operator">-</span>align<span class="token operator">:</span> center<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token punctuation">.</span><span class="token property-access">goods</span><span class="token operator">-</span>info p <span class="token punctuation">{</span>
    overflow<span class="token operator">:</span> hidden<span class="token punctuation">;</span>
    text<span class="token operator">-</span>overflow<span class="token operator">:</span> ellipsis<span class="token punctuation">;</span>
    white<span class="token operator">-</span>space<span class="token operator">:</span> nowrap<span class="token punctuation">;</span>
    margin<span class="token operator">-</span>bottom<span class="token operator">:</span> <span class="token number">3</span>px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token punctuation">.</span><span class="token property-access">goods</span><span class="token operator">-</span>info <span class="token punctuation">.</span><span class="token property-access">price</span> <span class="token punctuation">{</span>
    color<span class="token operator">:</span> <span class="token keyword">var</span><span class="token punctuation">(</span><span class="token operator">--</span>color<span class="token operator">-</span>high<span class="token operator">-</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
    margin<span class="token operator">-</span>right<span class="token operator">:</span> <span class="token number">20</span>px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token punctuation">.</span><span class="token property-access">goods</span><span class="token operator">-</span>info <span class="token punctuation">.</span><span class="token property-access">collect</span> <span class="token punctuation">{</span>
    position<span class="token operator">:</span> relative<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token punctuation">.</span><span class="token property-access">goods</span><span class="token operator">-</span>info <span class="token punctuation">.</span><span class="token property-access">collect</span><span class="token operator">:</span><span class="token operator">:</span>before <span class="token punctuation">{</span>
    content<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">;</span>
    position<span class="token operator">:</span> absolute<span class="token punctuation">;</span>
    left<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">15</span>px<span class="token punctuation">;</span>
    top<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span>px<span class="token punctuation">;</span>
    width<span class="token operator">:</span> <span class="token number">14</span>px<span class="token punctuation">;</span>
    height<span class="token operator">:</span> <span class="token number">14</span>px<span class="token punctuation">;</span>
    background<span class="token operator">:</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token string">"~assets/img/common/collect.svg"</span><span class="token punctuation">)</span> <span class="token number">0</span> <span class="token number">0</span><span class="token operator">/</span><span class="token number">14</span>px <span class="token number">14</span>px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span>
</pre></div></code-block><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">数据处理逻辑：</span><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">存储结构：</span><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre>goods<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">'pop'</span><span class="token operator">:</span> <span class="token punctuation">{</span>page<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> list<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">'news'</span><span class="token operator">:</span> <span class="token punctuation">{</span>page<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> list<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">'sell'</span><span class="token operator">:</span> <span class="token punctuation">{</span>page<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> list<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
currentGoodsType<span class="token operator">:</span><span class="token string">'pop'</span></pre></div></code-block></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">数据的追加</span><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">goods</span><span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">list</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token spread operator">...</span>res<span class="token punctuation">.</span><span class="token property-access">data</span><span class="token punctuation">.</span><span class="token property-access">list</span><span class="token punctuation">)</span> <span class="token comment">//追加到list数组中</span></pre></div></code-block></li></ul></li></ul></li></ol><h3 class="wolai-block"><span class="inline-wrap">五、better-scroll<span class="jill"></span>组件的封装，Scroll<span class="jill"></span>组件的开发与使用</span></h3><div class="wolai-block wolai-text"><div><span class="inline-wrap">better-scroll<span class="jill"></span>组件的封装思想：首先需要引入<span class="jill"></span>better-scroll  命令：npm install better-scroll  --save</span></div></div><div class="wolai-block wolai-center"><figure style="width: 100%"><img src="https://cdn.jsdelivr.net/gh/18476305640/typora@master/image/2022/03/13/20220313103844956.png"/></figure></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">我们想在开发完后可以直接套在要滑动的<span class="jill"></span>n<span class="jill"></span>个元素外，但”wrapper“ =&gt;滑板内只能有一个元素，所以在封装时，我们需要在<span class="jill"></span>wrapper<span class="jill"></span>内套一个.content<span class="jill"></span>的元素了。在.content<span class="jill"></span>内写一个插槽<span class="jill"></span>slot,代表我们套在<span class="jill"></span>contents<span class="jill"></span>的元素。我们希望使用我们组件的组件能给我们传入几个参数来决定是否要使用上拉加载与是否要监控滚动</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">props: {
probeType: {
type:Number,
default:0
},
pullUpLoad: {
type: Boolean,
default: false
}
},</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">参数用于且将事件发出给使用的组件：</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">this.scroll = new BScroll(this.$refs.wrapper,{
probeType: this.probeType,
pullUpLoad:this.pullUpLoad,
click: true
})</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">scroll</span><span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">'pullingUp'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">$emit</span><span class="token punctuation">(</span><span class="token string">"pullingUp"</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">scroll</span><span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span> <span class="token parameter"><span class="token maybe-class-name">SParams</span></span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">$emit</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span><span class="token maybe-class-name">SParams</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></div></code-block><hr class="wolai-block"/><div class="wolai-block wolai-text"><div><span class="inline-wrap">better-scroll	组件更多信息：</span><span class="inline-wrap"><a href="https://www.cnblogs.com/670074760-zsx/p/6918800.html"><span>https://www.cnblogs.com/670074760-zsx/p/6918800.html</span></a></span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">better-scroll	官网：</span><span class="inline-wrap"><a href="https://better-scroll.github.io/docs/zh-CN/guide/#滚动原理"><span>https://better-scroll.github.io/docs/zh-CN/guide/#%E6%BB%9A%E5%8A%A8%E5%8E%9F%E7%90%86</span></a></span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token operator">&lt;</span>template<span class="token operator">></span>
  <span class="token operator">&lt;</span>div  ref<span class="token operator">=</span><span class="token string">"wrapper"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>div ref<span class="token operator">=</span><span class="token string">"content"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>slot<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span>

<span class="token operator">&lt;</span>script<span class="token operator">></span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">BScroll</span></span> <span class="token keyword module">from</span> <span class="token string">'better-scroll'</span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">"BScroll"</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
      scroll<span class="token operator">:</span> <span class="token keyword null nil">null</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    probeType<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span><span class="token known-class-name class-name">Number</span><span class="token punctuation">,</span>
      <span class="token keyword module">default</span><span class="token operator">:</span><span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    pullUpLoad<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token known-class-name class-name">Boolean</span><span class="token punctuation">,</span>
      <span class="token keyword module">default</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">scroll</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BScroll</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">$refs</span><span class="token punctuation">.</span><span class="token property-access">wrapper</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
      probeType<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">probeType</span><span class="token punctuation">,</span>
      pullUpLoad<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">pullUpLoad</span><span class="token punctuation">,</span>
      click<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">scroll</span><span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">'pullingUp'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">$emit</span><span class="token punctuation">(</span><span class="token string">"pullingUp"</span><span class="token punctuation">)</span>


    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">scroll</span><span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span> <span class="token parameter"><span class="token maybe-class-name">SParams</span></span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">$emit</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span><span class="token maybe-class-name">SParams</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function"><span class="token maybe-class-name">ScrollTo</span></span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>time<span class="token operator">=</span><span class="token number">300</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">scroll</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">scroll</span><span class="token punctuation">.</span><span class="token method function property-access">scrollTo</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">finishPullUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">scroll</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">scroll</span><span class="token punctuation">.</span><span class="token method function property-access">finishPullUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">scroll</span><span class="token punctuation">.</span><span class="token method function property-access">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>

<span class="token operator">&lt;</span>style scoped<span class="token operator">></span>


<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span>
</pre></div></code-block><hr class="wolai-block"/><div class="wolai-block wolai-text"><div><span class="inline-wrap">使用说明：</span></div></div><ol class="wolai-block"><li><div class="marker"></div><span class="inline-wrap">在页面中引入，然后套在要滚动的内容外</span><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre>      <span class="token operator">&lt;</span>scroll <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"wrapper"</span> ref<span class="token operator">=</span><span class="token string">"Scroll"</span>
              <span class="token operator">:</span>probe<span class="token operator">-</span>type<span class="token operator">=</span><span class="token string">"3"</span>
              <span class="token operator">:</span>pull<span class="token operator">-</span>up<span class="token operator">-</span>load<span class="token operator">=</span><span class="token string">"true"</span>
              @pullingUp<span class="token operator">=</span><span class="token string">"pullingUp"</span>
              @scroll<span class="token operator">=</span><span class="token string">"scroll"</span> <span class="token operator">></span>
      
           <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 要滚动的内容 <span class="token operator">--</span><span class="token operator">></span>

      <span class="token operator">&lt;</span><span class="token operator">/</span>scroll<span class="token operator">></span></pre></div></code-block></li><li><div class="marker"></div><span class="inline-wrap">这时<span class="jill"></span>scroll<span class="jill"></span>组件还不能用，因为我们需要设置”滑板“ 高度大小</span><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token punctuation">.</span><span class="token property-access">wrapper</span> <span class="token punctuation">{</span>
     position<span class="token operator">:</span> fixed<span class="token punctuation">;</span>
     top<span class="token operator">:</span> <span class="token number">0</span>px<span class="token punctuation">;</span>
     bottom<span class="token operator">:</span> <span class="token number">49</span>px<span class="token punctuation">;</span>
     left<span class="token operator">:</span> <span class="token number">0</span>px<span class="token punctuation">;</span>
     right<span class="token operator">:</span> <span class="token number">0</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div></code-block></li><li><div class="marker"></div><span class="inline-wrap">这时我们需要传入<span class="jill"></span>scroll<span class="jill"></span>组件上<span class="jill"></span>props<span class="jill"></span>的属性，当然不传也有默认值：</span><span class="inline-wrap">
</span><span class="inline-wrap">:probe-type=&quot;3&quot;   =&gt; 1 监听事件的触发时间，2<span class="jill"></span>为即时触发，3<span class="jill"></span>为延迟到事件完毕后触发
:pull-up-load=&quot;true&quot;  =&gt;是否开启 ”触底通知“  做上拉加载需要开启。</span><span class="inline-wrap">
</span><span class="inline-wrap">上面分别对应：@pullingUp=&quot;pullingUp&quot;  =&gt; 触底通知</span><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre>           @scroll<span class="token operator">=</span><span class="token string">"scroll"</span>   <span class="token arrow operator">=></span> 能接收一个参数</pre></div></code-block></li><li><div class="marker"></div><span class="inline-wrap">用事件总线解决高度刷新（图片加载时，如果不通知刷新 scroll<span class="jill"></span>中<span class="jill"></span>content<span class="jill"></span>的高度就会出现有内容无法上拉问题）</span><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">在<span class="jill"></span>main<span class="jill"></span>塔建事件总线 Vue.prototype.$bus = new Vue()  让通知与刷新”通信“</span><span class="inline-wrap">
</span><div class="wolai-block wolai-center"><figure style="width: 100%"><img src="https://cdn.jsdelivr.net/gh/18476305640/typora@master/image/2022/03/13/20220313103845959.png"/></figure></div></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">通知：</span><span class="inline-wrap">
</span><div class="wolai-block wolai-center"><figure style="width: 100%"><img src="https://cdn.jsdelivr.net/gh/18476305640/typora@master/img/image-20210311151100359.png"/></figure></div></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">刷新：</span><span class="inline-wrap">
</span><span class="inline-wrap">引入防抖函数  :  import {debounce} from &quot;@/common/utils&quot;</span><span class="inline-wrap">
</span><span class="inline-wrap">接收通知进行刷新：</span><span class="inline-wrap">
</span><span class="inline-wrap">（”触发后设置定时器，在这时没再触发时，就重新调整，触发次数只要触发至少一次“）</span><span class="inline-wrap">
</span><span class="inline-wrap">功能<span class="jill"></span>1：上拉加载更多功能的实现</span><span class="inline-wrap">
</span><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span>delay</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token keyword null nil">null</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token spread operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">if</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span> <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>
    timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
      func<span class="token punctuation">.</span><span class="token method function property-access">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>delay<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></div></code-block><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//生命周期函数</span>
     <span class="token keyword">const</span> refresh <span class="token operator">=</span><span class="token function">debounce</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">$refs</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Scroll</span></span><span class="token punctuation">.</span><span class="token property-access">refresh</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">)</span>
     <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">$bus</span><span class="token punctuation">.</span><span class="token method function property-access">$on</span><span class="token punctuation">(</span><span class="token string">"itemImageLoad"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
        <span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
     <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span></pre></div></code-block><div class="wolai-block wolai-center"><figure style="width: 100%"><img src="https://cdn.jsdelivr.net/gh/18476305640/typora@master/img/image-20210311170109202.png"/></figure></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token function">pullingUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">getHomeGoods</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">currentGoodsType</span><span class="token punctuation">)</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
        <span class="token comment">//告诉Scroll可再次上拉加载更多</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">$refs</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Scroll</span></span><span class="token punctuation">.</span><span class="token method function property-access">finishPullUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
      <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</pre></div></code-block></li></ul></li></ol><h3 class="wolai-block"><span class="inline-wrap">六、BackTop 回到顶部组件的 开发</span></h3><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre>开发思想：组件本身没什么，只起基本的显示作用，主要是功能上，如果回到顶部与何时显示隐藏。</pre></div></code-block><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token operator">&lt;</span>template<span class="token operator">></span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"back-top"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">"~assets/img/common/top.png"</span> alt<span class="token operator">=</span><span class="token string">""</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span>

<span class="token operator">&lt;</span>script<span class="token operator">></span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">"BackTop"</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>

<span class="token operator">&lt;</span>style scoped<span class="token operator">></span>
  <span class="token punctuation">.</span><span class="token property-access">back</span><span class="token operator">-</span>top <span class="token punctuation">{</span>
    position<span class="token operator">:</span> fixed<span class="token punctuation">;</span>
    right<span class="token operator">:</span> <span class="token number">8</span>px<span class="token punctuation">;</span>
    bottom<span class="token operator">:</span> <span class="token number">55</span>px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">.</span><span class="token property-access">back</span><span class="token operator">-</span>top img <span class="token punctuation">{</span>
    width<span class="token operator">:</span> <span class="token number">43</span>px<span class="token punctuation">;</span>
    height<span class="token operator">:</span> <span class="token number">43</span>px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span>
</pre></div></code-block><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>功能<span class="jill"></span>1：回到顶部，BackTop<span class="jill"></span>组件对<span class="jill"></span>Scroll<span class="jill"></span>组件功能的实现很密切。</b></span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">在组件上添加一个点击事件，当点击时调用函数返回顶部而函数里调用<span class="jill"></span>Scroll<span class="jill"></span>中的方法作真正的返回顶部。</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre><span class="token comment">//点击</span>
<span class="token operator">&lt;</span>back<span class="token operator">-</span>top @click<span class="token punctuation">.</span><span class="token property-access">native</span><span class="token operator">=</span><span class="token string">"backTop"</span> <span class="token operator">/</span><span class="token operator">></span>
<span class="token spread operator">...</span><span class="token punctuation">.</span>
<span class="token comment">//触发函数,用于Scroll内封装的方法。体现backTop面向Scroll开发，而不是Scroll引入的组件。</span>
<span class="token function">backTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">$refs</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Scroll</span></span><span class="token punctuation">.</span><span class="token method function property-access"><span class="token maybe-class-name">ScrollTo</span></span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span><span class="token punctuation">,</span></pre></div></code-block><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>功能<span class="jill"></span>2： 按钮的显示与隐藏</b></span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">这个功能需要在<span class="jill"></span>Scroll 滚动的监控函数中写：</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token comment">//结构：</span>
<span class="token operator">&lt;</span>back<span class="token operator">-</span>top @click<span class="token punctuation">.</span><span class="token property-access">native</span><span class="token operator">=</span><span class="token string">"backTop"</span> v<span class="token operator">-</span>show<span class="token operator">=</span><span class="token string">"isShowBackTop"</span><span class="token operator">/</span><span class="token operator">></span>
    
<span class="token comment">//Data</span>
 <span class="token function"><span class="token maybe-class-name">Data</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
        isShowBackTop<span class="token operator">:</span><span class="token boolean">false</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//method</span>
<span class="token function">scroll</span><span class="token punctuation">(</span><span class="token parameter">scrollPar</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">isShowBackTop</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">-</span>scrollPar<span class="token punctuation">.</span><span class="token property-access">y</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">1000</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span></pre></div></code-block><h3 class="wolai-block"><span class="inline-wrap">七、轮播图<span class="jill"></span>Swiper<span class="jill"></span>组件</span></h3><div class="wolai-block wolai-center"><figure style="width: 100%"><img src="https://cdn.jsdelivr.net/gh/18476305640/typora@master/image/2022/03/13/20220313103846490.png" style="width: 258.6666666666667px"/></figure></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">index.js</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">Swiper</span></span> <span class="token keyword module">from</span> <span class="token string">'./Swiper'</span>
<span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">SwiperItem</span></span> <span class="token keyword module">from</span> <span class="token string">'./SwiperItem'</span>

<span class="token keyword module">export</span> <span class="token exports"><span class="token punctuation">{</span>
  <span class="token maybe-class-name">Swiper</span><span class="token punctuation">,</span> <span class="token maybe-class-name">SwiperItem</span>
<span class="token punctuation">}</span></span>
</pre></div></code-block><div class="wolai-block wolai-text"><div><span class="inline-wrap">Swiper.vue</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Js" class="marker"></div><pre><span class="token operator">&lt;</span>template<span class="token operator">></span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"hy-swiper"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"swiper"</span> @touchstart<span class="token operator">=</span><span class="token string">"touchStart"</span> @touchmove<span class="token operator">=</span><span class="token string">"touchMove"</span> @touchend<span class="token operator">=</span><span class="token string">"touchEnd"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>slot<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>slot name<span class="token operator">=</span><span class="token string">"indicator"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">></span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"indicator"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>slot name<span class="token operator">=</span><span class="token string">"indicator"</span> v<span class="token operator">-</span><span class="token keyword control-flow">if</span><span class="token operator">=</span><span class="token string">"showIndicator &amp;&amp; slideCount>1"</span><span class="token operator">></span>
          <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword control-flow">for</span><span class="token operator">=</span><span class="token string">"(item, index) in slideCount"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"indi-item"</span> <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"{active: index === currentIndex-1}"</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"index"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span>

<span class="token operator">&lt;</span>script<span class="token operator">></span>
	<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
		name<span class="token operator">:</span> <span class="token string">"Swiper"</span><span class="token punctuation">,</span>
    props<span class="token operator">:</span> <span class="token punctuation">{</span>
      interval<span class="token operator">:</span> <span class="token punctuation">{</span>
		    type<span class="token operator">:</span> <span class="token known-class-name class-name">Number</span><span class="token punctuation">,</span>
        <span class="token keyword module">default</span><span class="token operator">:</span> <span class="token number">3000</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      animDuration<span class="token operator">:</span> <span class="token punctuation">{</span>
		    type<span class="token operator">:</span> <span class="token known-class-name class-name">Number</span><span class="token punctuation">,</span>
        <span class="token keyword module">default</span><span class="token operator">:</span> <span class="token number">300</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      moveRatio<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token known-class-name class-name">Number</span><span class="token punctuation">,</span>
        <span class="token keyword module">default</span><span class="token operator">:</span> <span class="token number">0.25</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      showIndicator<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token known-class-name class-name">Boolean</span><span class="token punctuation">,</span>
        <span class="token keyword module">default</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">data</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		  <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
        slideCount<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 元素个数</span>
        totalWidth<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// swiper的宽度</span>
        swiperStyle<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// swiper样式</span>
        currentIndex<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 当前的index</span>
        scrolling<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否正在滚动</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">mounted</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 1.操作DOM, 在前后添加Slide</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">handleDom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2.开启定时器</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">startTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">{</span>
		  <span class="token doc-comment comment">/**
       * 定时器操作
       */</span>
      <span class="token function-variable function">startTimer</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">playTimer</span> <span class="token operator">=</span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token method function property-access">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
		      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">currentIndex</span><span class="token operator">++</span><span class="token punctuation">;</span>
		      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">scrollContent</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">currentIndex</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">totalWidth</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">interval</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function-variable function">stopTimer</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token method function property-access">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">playTimer</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>

      <span class="token doc-comment comment">/**
       * 滚动到正确的位置
       */</span>
      <span class="token function-variable function">scrollContent</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">currentPosition</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 0.设置正在滚动</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">scrolling</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

        <span class="token comment">// 1.开始滚动动画</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">swiperStyle</span><span class="token punctuation">.</span><span class="token property-access">transition</span> <span class="token operator">=</span><span class="token string">'transform '</span><span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">animDuration</span> <span class="token operator">+</span> <span class="token string">'ms'</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">setTransform</span><span class="token punctuation">(</span>currentPosition<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2.判断滚动到的位置</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">checkPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 4.滚动完成</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">scrolling</span> <span class="token operator">=</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>

      <span class="token doc-comment comment">/**
       * 校验正确的位置
       */</span>
      <span class="token function-variable function">checkPosition</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token method function property-access">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
          <span class="token comment">// 1.校验正确的位置</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">swiperStyle</span><span class="token punctuation">.</span><span class="token property-access">transition</span> <span class="token operator">=</span> <span class="token string">'0ms'</span><span class="token punctuation">;</span>
          <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">currentIndex</span> <span class="token operator">>=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">slideCount</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">currentIndex</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">setTransform</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">currentIndex</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">totalWidth</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">currentIndex</span> <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">currentIndex</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">slideCount</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">setTransform</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">currentIndex</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">totalWidth</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>

          <span class="token comment">// 2.结束移动后的回调</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">$emit</span><span class="token punctuation">(</span><span class="token string">'transitionEnd'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">currentIndex</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">animDuration</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>

      <span class="token doc-comment comment">/**
       * 设置滚动的位置
       */</span>
      <span class="token function-variable function">setTransform</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">position</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">swiperStyle</span><span class="token punctuation">.</span><span class="token property-access">transform</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate3d(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>position<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px, 0, 0)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">swiperStyle</span><span class="token punctuation">[</span><span class="token string">'-webkit-transform'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate3d(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>position<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px), 0, 0</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">swiperStyle</span><span class="token punctuation">[</span><span class="token string">'-ms-transform'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate3d(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>position<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px), 0, 0</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>

      <span class="token doc-comment comment">/**
       * 操作DOM, 在DOM前后添加Slide
       */</span>
		  <span class="token function-variable function">handleDom</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1.获取要操作的元素</span>
        <span class="token keyword">let</span> swiperEl <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">'.swiper'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> slidesEls <span class="token operator">=</span> swiperEl<span class="token punctuation">.</span><span class="token method function property-access">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'slide'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2.保存个数</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">slideCount</span> <span class="token operator">=</span> slidesEls<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span>

        <span class="token comment">// 3.如果大于1个, 那么在前后分别添加一个slide</span>
        <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">slideCount</span> <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">let</span> cloneFirst <span class="token operator">=</span> slidesEls<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">let</span> cloneLast <span class="token operator">=</span> slidesEls<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">slideCount</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          swiperEl<span class="token punctuation">.</span><span class="token method function property-access">insertBefore</span><span class="token punctuation">(</span>cloneLast<span class="token punctuation">,</span> slidesEls<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          swiperEl<span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span>cloneFirst<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">totalWidth</span> <span class="token operator">=</span> swiperEl<span class="token punctuation">.</span><span class="token property-access">offsetWidth</span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">swiperStyle</span> <span class="token operator">=</span> swiperEl<span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 4.让swiper元素, 显示第一个(目前是显示前面添加的最后一个元素)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">setTransform</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">totalWidth</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>

      <span class="token doc-comment comment">/**
       * 拖动事件的处理
       */</span>
      <span class="token function-variable function">touchStart</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1.如果正在滚动, 不可以拖动</span>
        <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">scrolling</span><span class="token punctuation">)</span> <span class="token keyword control-flow">return</span><span class="token punctuation">;</span>

        <span class="token comment">// 2.停止定时器</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">stopTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 3.保存开始滚动的位置</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">startX</span> <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token property-access">touches</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">pageX</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>

      <span class="token function-variable function">touchMove</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1.计算出用户拖动的距离</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">currentX</span> <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token property-access">touches</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">pageX</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">distance</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">currentX</span> <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">startX</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> currentPosition <span class="token operator">=</span> <span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">currentIndex</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">totalWidth</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> moveDistance <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">distance</span> <span class="token operator">+</span> currentPosition<span class="token punctuation">;</span>

        <span class="token comment">// 2.设置当前的位置</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">setTransform</span><span class="token punctuation">(</span>moveDistance<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>

      <span class="token function-variable function">touchEnd</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1.获取移动的距离</span>
        <span class="token keyword">let</span> currentMove <span class="token operator">=</span> <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">abs</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">distance</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2.判断最终的距离</span>
        <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">distance</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword control-flow">return</span>
        <span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">distance</span> <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> currentMove <span class="token operator">></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">totalWidth</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">moveRatio</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 右边移动超过0.5</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">currentIndex</span><span class="token operator">--</span>
        <span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">distance</span> <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> currentMove <span class="token operator">></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">totalWidth</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">moveRatio</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 向左移动超过0.5</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">currentIndex</span><span class="token operator">++</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 3.移动到正确的位置</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">scrollContent</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">currentIndex</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">totalWidth</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 4.移动完成后重新开启定时器</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">startTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>

      <span class="token doc-comment comment">/**
       * 控制上一个, 下一个
       */</span>
      <span class="token function-variable function">previous</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">changeItem</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>

      <span class="token function-variable function">next</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">changeItem</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>

      <span class="token function-variable function">changeItem</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1.移除定时器</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">stopTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2.修改index和位置</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">currentIndex</span> <span class="token operator">+=</span> num<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">scrollContent</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">currentIndex</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">totalWidth</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 3.添加定时器</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">startTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>

<span class="token operator">&lt;</span>style scoped<span class="token operator">></span>
  #hy<span class="token operator">-</span>swiper <span class="token punctuation">{</span>
    overflow<span class="token operator">:</span> hidden<span class="token punctuation">;</span>
    position<span class="token operator">:</span> relative<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token punctuation">.</span><span class="token property-access">swiper</span> <span class="token punctuation">{</span>
    display<span class="token operator">:</span> flex<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token punctuation">.</span><span class="token property-access">indicator</span> <span class="token punctuation">{</span>
    display<span class="token operator">:</span> flex<span class="token punctuation">;</span>
    justify<span class="token operator">-</span>content<span class="token operator">:</span> center<span class="token punctuation">;</span>
    position<span class="token operator">:</span> absolute<span class="token punctuation">;</span>
    width<span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
    bottom<span class="token operator">:</span> <span class="token number">8</span>px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token punctuation">.</span><span class="token property-access">indi</span><span class="token operator">-</span>item <span class="token punctuation">{</span>
    box<span class="token operator">-</span>sizing<span class="token operator">:</span> border<span class="token operator">-</span>box<span class="token punctuation">;</span>
    width<span class="token operator">:</span> <span class="token number">8</span>px<span class="token punctuation">;</span>
    height<span class="token operator">:</span> <span class="token number">8</span>px<span class="token punctuation">;</span>
    border<span class="token operator">-</span>radius<span class="token operator">:</span> <span class="token number">4</span>px<span class="token punctuation">;</span>
    background<span class="token operator">-</span>color<span class="token operator">:</span> #fff<span class="token punctuation">;</span>
    line<span class="token operator">-</span>height<span class="token operator">:</span> <span class="token number">8</span>px<span class="token punctuation">;</span>
    text<span class="token operator">-</span>align<span class="token operator">:</span> center<span class="token punctuation">;</span>
    font<span class="token operator">-</span>size<span class="token operator">:</span> <span class="token number">12</span>px<span class="token punctuation">;</span>
    margin<span class="token operator">:</span> <span class="token number">0</span> <span class="token number">5</span>px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token punctuation">.</span><span class="token property-access">indi</span><span class="token operator">-</span>item<span class="token punctuation">.</span><span class="token property-access">active</span> <span class="token punctuation">{</span>
    background<span class="token operator">-</span>color<span class="token operator">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">212</span><span class="token punctuation">,</span><span class="token number">62</span><span class="token punctuation">,</span><span class="token number">46</span><span class="token punctuation">,</span><span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span>
</pre></div></code-block><div class="wolai-block wolai-text"><div><span class="inline-wrap">SwiperItem.vue</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Js" class="marker"></div><pre><span class="token operator">&lt;</span>template<span class="token operator">></span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"slide"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>slot<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span>

<span class="token operator">&lt;</span>script<span class="token operator">></span>
	<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
		name<span class="token operator">:</span> <span class="token string">"Slide"</span>
	<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>

<span class="token operator">&lt;</span>style scoped<span class="token operator">></span>
  <span class="token punctuation">.</span><span class="token property-access">slide</span> <span class="token punctuation">{</span>
    width<span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
    flex<span class="token operator">-</span>shrink<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token punctuation">.</span><span class="token property-access">slide</span> img <span class="token punctuation">{</span>
    width<span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span>
</pre></div></code-block><div class="wolai-block wolai-center"><figure style="width: 100%"><img src="https://cdn.jsdelivr.net/gh/18476305640/typora@master/img/image-20210312141122424.png" style="width: 236.66666666666666px"/></figure></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">HomeSwiper.vue</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Js" class="marker"></div><pre><span class="token operator">&lt;</span>template<span class="token operator">></span>

  <span class="token operator">&lt;</span>swiper<span class="token operator">></span>
    <span class="token operator">&lt;</span>swiper<span class="token operator">-</span>item v<span class="token operator">-</span><span class="token keyword control-flow">for</span><span class="token operator">=</span><span class="token string">"item in banners"</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"item.title"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>a <span class="token operator">:</span>href<span class="token operator">=</span><span class="token string">"item.link"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>img <span class="token operator">:</span>src<span class="token operator">=</span><span class="token string">"item.image"</span> <span class="token operator">:</span>alt<span class="token operator">=</span><span class="token string">"item.title"</span> @load<span class="token operator">=</span><span class="token string">"imageLoad()"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>swiper<span class="token operator">-</span>item<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>swiper<span class="token operator">></span>

<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span>
<span class="token operator">&lt;</span>script<span class="token operator">></span>
  <span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span><span class="token maybe-class-name">Swiper</span><span class="token punctuation">,</span> <span class="token maybe-class-name">SwiperItem</span><span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">'components/common/swiper'</span><span class="token punctuation">;</span>
  <span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'HomeSwiper'</span><span class="token punctuation">,</span>
    components<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token maybe-class-name">Swiper</span><span class="token punctuation">,</span>
      <span class="token maybe-class-name">SwiperItem</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    props<span class="token operator">:</span> <span class="token punctuation">{</span>
      banners<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token known-class-name class-name">Array</span><span class="token punctuation">,</span>
        <span class="token keyword module">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword control-flow">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
        timeout<span class="token operator">:</span><span class="token keyword null nil">null</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">imageLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">timeout</span><span class="token punctuation">)</span> <span class="token function">clearTimeout</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">timeout</span><span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">timeout</span> <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">$emit</span><span class="token punctuation">(</span><span class="token string">'swiperImageLoad'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>

<span class="token operator">&lt;</span>style<span class="token operator">></span>


<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span>
</pre></div></code-block><div class="wolai-block wolai-text"><div><span class="inline-wrap">然后在页面导入<span class="jill"></span>HomeSwiper.vue<span class="jill"></span>使用</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">End</span></div></div></article><footer></footer></body></html>